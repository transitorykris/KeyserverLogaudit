<html>
    <head>
        <title>Upspin Keyserver Log Audit</title>
    </head>
    <body>
        <h1>Upspin Keyserver Log Audit</h1>
        <hr />
        <p>
            This service monitors the Upspin keyserver log at <a href="https://key.upspin.io/log">https://key.upspin.io/log</a>
        </p>
        <p>
            The log is generated by computing the SHA256 hash of a record with the hash of the previous record. See the <a href="https://github.com/upspin/upspin/blob/master/key/server/log.go">logging code</a> for details.
        </p>
        <p>
            <a href="https://twitter.com/keyserverlog">@KeyserverLog</a> will tweet in the event a problem with the log is discovered.
        </p>
        <p>
            The code for this service can be found at <a href="https://github.com/transitorykris/KeyserverLogaudit">github.com/transitorykris/KeyserverLogaudit</a>
        </p>
        <form method="post" action="/signup">
            If you would like to be notified by email if the keyserver log integrity is compromised, sign up here.
            <input type="email" placeholder="your@email.com" name="email" />
            <input type="submit" />
        </form>
        <hr />
        <h2>Last run {{ .LastRun }}</h2>
        <h2>Next run {{ .NextRun }}</h2>
        <h2>Total records {{ .TotalRecords }}</h2>
        <h2>Total inconsistencies {{ .TotalInconsistencies }}</h2>
        <h2>Previous 5 records</h2>
        {{ range .Records }}
            <p>{{ .Text }}<br />SHA256:{{ .Hash }}</p>
        {{ end }}
        <hr />
        <p>
            This service is provided as-is without warranty.
            Questions, comments <a href="mailto:kris.foster@gmail.com">kris.foster@gmail.com</a> or <a href="https://twitter.com/transitorykris">@transitorykris</a>.
        </p>
    </body>
</html>